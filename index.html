<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Singularité</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Mono:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* =========================================
           STYLES GLOBAUX
           ========================================= */
        :root {
            --accent: #BFA181;
            --bg-dark: #0a0a0f;
            --text-light: rgba(255, 255, 255, 0.85);
            --text-muted: rgba(255, 255, 255, 0.6);
            --glass-bg: rgba(15, 15, 20, 0.75); 
            --glass-border: rgba(191, 161, 129, 0.25);
            --glass-blur: blur(25px);
            --container-width: 1000px; /* Largeur conteneur À Propos */
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { background: #000; font-family: 'Inter', sans-serif; color: #fff; overflow: hidden; height: 100vh; width: 100vw; }
        #canvas-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; }

        /* --- SPLASH SCREEN --- */
        #splash-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; pointer-events: none; 
            transition: opacity 1s ease;
        }
        
        .splash-content { transition: opacity 1.5s ease; opacity: 1; display: flex; flex-direction: column; align-items: center; }
        .splash-content.fade-out { opacity: 0; }

        .splash-title-big {
            font-family: 'Playfair Display', serif;
            font-size: clamp(60px, 10vw, 150px);
            font-weight: 700; color: #fff;
            letter-spacing: -2px; margin: 0; line-height: 1;
            text-shadow: 0 0 30px rgba(255,255,255,0.1);
        }
        
        .splash-subtitle {
            font-family: 'Space Mono', monospace;
            font-size: 12px; color: var(--accent);
            margin-top: 20px; letter-spacing: 4px;
            text-transform: uppercase;
        }

        .splash-btn {
            margin-top: 60px;
            background: transparent; color: #fff;
            font-family: 'Space Mono', monospace;
            font-size: 14px; padding: 15px 50px;
            border: 1px solid rgba(255,255,255,0.2);
            text-transform: uppercase; letter-spacing: 2px;
            cursor: pointer; transition: all 0.5s ease;
            pointer-events: auto; opacity: 1;
        }
        .splash-btn:hover { background: #fff; color: #000; letter-spacing: 4px; }
        .splash-btn.fade-out { opacity: 0; transform: translateY(20px); pointer-events: none; }

       /* HEADER (SYMÉTRIE PARFAITE) */
        #header {
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%); z-index: 5000;
            padding: 10px 40px; display: flex; justify-content: space-between; align-items: center; 
            gap: 40px; 
            background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 50px; user-select: none;
            pointer-events: auto;
            width: auto; max-width: 95%;
            opacity: 0; transition: opacity 2s ease;
        }
        #header.visible { opacity: 1; }

        .nav-group { display: flex; gap: 30px; align-items: center; width: 200px; justify-content: center; } 

        .nav-item {
            color: rgba(255, 255, 255, 0.5); text-decoration: none; font-family: 'Space Mono', monospace;
            font-size: 12px; letter-spacing: 1px; text-transform: uppercase; cursor: pointer;
            transition: color 0.3s; white-space: nowrap;
        }
        .nav-item:hover, .nav-item.active { color: #fff; text-shadow: 0 0 10px rgba(255,255,255,0.5); }

        /* BOUTON CENTRAL (IMAGE) */
        #header-center-btn {
            position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);
            width: 60px; height: 60px; 
            border-radius: 50%;
            overflow: hidden;
            cursor: pointer;
            z-index: 5001;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: #000;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 0 15px rgba(0,0,0,0.8);
        }
        #header-center-btn:hover { 
            transform: translate(-50%, -50%) scale(1.15); 
            box-shadow: 0 0 25px rgba(255, 165, 0, 0.4);
            border-color: var(--accent);
        }
        #header-center-btn img { 
            width: 100%; height: 100%; object-fit: cover; 
            transform: scale(1.5); 
        }

        /* SECTIONS */
        #sections-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; pointer-events: none; }
        .section { position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; visibility: hidden; transition: opacity 0.8s ease, visibility 0.8s; pointer-events: none; }
        .section.active { opacity: 1; visibility: visible; pointer-events: auto !important; z-index: 100; }

        .glass-panel { background: var(--glass-bg); backdrop-filter: var(--glass-blur); -webkit-backdrop-filter: var(--glass-blur); border: 1px solid var(--glass-border); box-shadow: 0 15px 35px -10px rgba(0,0,0,0.5); transition: transform 0.3s ease, border-color 0.3s ease; }
        .deco-cross { position: absolute; font-family: 'Space Mono', monospace; font-size: 12px; color: rgba(255, 255, 255, 0.15); pointer-events: none; }
        .section-number { position: absolute; bottom: 25px; left: 40px; font-family: 'Space Mono', monospace; font-size: 48px; font-weight: 700; color: rgba(255, 255, 255, 0.08); line-height: 1; pointer-events: none; }
        .section-number span { font-size: 14px; color: #BFA181; display: block; margin-top: 5px; }

        /* ACCUEIL */
        .accueil-quote { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; max-width: 480px; text-align: center; pointer-events: none; z-index: 200; }
        .accueil-quote blockquote { font-family: 'Space Mono', monospace; font-size: clamp(16px, 2vw, 22px); font-weight: 700; line-height: 1.6; color: #fff; text-transform: uppercase; letter-spacing: 2px; text-shadow: 0 4px 20px rgba(0,0,0,1); margin: 0; padding: 0; display: inline; }
        .quote-line { display: block; line-height: 1.3; }
        .quote-line.line-1 { display: flex; justify-content: center; align-items: center; gap: 15px; margin-bottom: 5px; }
        .word-transition { display: inline-block; width: 120px; height: 1em; position: relative; vertical-align: text-bottom; margin-left: 10px; }
        .word-transition .word { position: absolute; left: 50%; transform: translateX(-50%); white-space: nowrap; }
        .word-transition .word-next { opacity: 0; }
        .word-transition .word-active { opacity: 1; }
        .word-transition .word .letter { display: inline-block; transition: transform 0.4s ease, opacity 0.4s ease; }
        .word-transition .word .letter.out { transform: translateY(-100%); opacity: 0; }
        .word-transition .word .letter.in { transform: translateY(100%); opacity: 0; }
        .word-code { font-family: 'Source Code Pro', monospace; color: #4EC9B0; }
        .accueil-quote .author { font-size: 10px; color: rgba(255, 255, 255, 0.5); margin-top: 25px; text-transform: uppercase; letter-spacing: 3px; display: block; width: 100%; text-align: center;}
        .accueil-location { position: absolute; bottom: 140px; left: 60px; font-family: 'Space Mono', monospace; font-size: 10px; color: rgba(255, 255, 255, 0.3); letter-spacing: 1px; pointer-events: none; }
        .accueil-location span { display: block; margin-top: 3px; }
        .accueil-cta { position: absolute; bottom: 60px; right: 60px; font-family: 'Space Mono', monospace; font-size: 10px; letter-spacing: 2px; text-transform: uppercase; background: transparent; border: 1px solid rgba(255, 255, 255, 0.3); color: #fff; padding: 12px 25px; cursor: pointer; transition: all 0.3s; text-decoration: none; pointer-events: auto; z-index: 200; }
        .accueil-cta:hover { background: #fff; color: #0a0a0f; }

        /* SCROLL INDICATOR (VISIBLE ET ANIMÉ) */
        .scroll-hint {
            position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%);
            display: flex; flex-direction: column; align-items: center; gap: 10px;
            opacity: 0; transition: opacity 0.5s ease; pointer-events: none; z-index: 4000;
        }
        .scroll-hint.visible { opacity: 1; }
        
        .scroll-hint span {
            font-family: 'Space Mono', monospace; font-size: 11px; color: #fff;
            text-transform: uppercase; letter-spacing: 4px; font-weight: 700;
            background: rgba(0,0,0,0.4); padding: 6px 12px; border-radius: 4px;
            border: 1px solid rgba(191, 161, 129, 0.3); /* Accent border */
            box-shadow: 0 0 15px rgba(0,0,0,0.5);
        }
        
        .scroll-mouse {
            width: 26px; height: 44px;
            border: 2px solid rgba(255,255,255,0.6);
            border-radius: 13px;
            position: relative;
            background: rgba(0,0,0,0.2);
            backdrop-filter: blur(4px);
        }
        .scroll-wheel {
            position: absolute; top: 8px; left: 50%; transform: translateX(-50%);
            width: 4px; height: 6px; background: var(--accent);
            border-radius: 2px;
            animation: scrollWheel 1.5s infinite cubic-bezier(0.65, 0, 0.35, 1);
        }
        
        @keyframes scrollWheel {
            0% { transform: translateX(-50%) translateY(0); opacity: 1; }
            100% { transform: translateX(-50%) translateY(16px); opacity: 0; }
        }

        /* =========================================
           NOUVELLE SECTION A PROPOS
           ========================================= */
        
        .apropos-wrapper { 
            position: absolute; top: 0; left: 0; width: 100%; height: 100%; 
            overflow-y: auto; overflow-x: hidden; 
            scroll-behavior: smooth; pointer-events: auto; opacity: 0; transition: opacity 1s ease;
            background: radial-gradient(circle at center, rgba(26,26,32,0.2) 0%, rgba(0,0,0,0) 100%);
        }
        .apropos-wrapper.visible { opacity: 1; }

        .content-container {
            width: 100%; max-width: var(--container-width);
            margin: 0 auto; padding: 15vh 20px;
            display: flex; flex-direction: column; gap: 120px;
            position: relative; z-index: 2;
        }

        .text-block {
            position: relative; padding: 60px; border-radius: 20px;
            background: rgba(10, 10, 12, 0.65); 
            backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(191, 161, 129, 0.15);
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s ease, border-color 0.3s ease;
        }
        .text-block:hover { border-color: rgba(191, 161, 129, 0.4); transform: translateY(-5px); }

        .section-header { text-align: center; margin-bottom: 40px; }
        
        .text-block h2 { 
            color: var(--accent); font-family: 'Space Mono', monospace; text-transform: uppercase; 
            font-weight: 700; font-size: 1.1rem; letter-spacing: 3px; 
            display: inline-block; border-bottom: 1px solid rgba(191, 161, 129, 0.3); padding-bottom: 10px; margin: 0;
        }
        .text-block h3 {
            color: var(--accent); font-family: 'Space Mono'; margin: 40px 0 20px 0; font-size: 14px; text-transform: uppercase; text-align: center;
        }
        .text-block p { line-height: 1.9; font-size: 1.05rem; color: var(--text-light); margin-bottom: 25px; text-align: justify; }
        .text-block p:last-child { margin-bottom: 0; }
        .text-block strong { color: #fff; font-weight: 600; }

        .italy-cards { display: flex; gap: 20px; margin: 40px auto; justify-content: center; }
        .italy-card { 
            width: 90px; height: 130px; background: rgba(255,255,255,0.03); 
            border: 1px solid rgba(255,255,255,0.1); border-top: 3px solid var(--italy-color); 
            padding: 15px; display: flex; flex-direction: column; justify-content: flex-end; transition: transform 0.3s;
        }
        .italy-card:hover { transform: translateY(-10px); background: rgba(255,255,255,0.06); }
        .italy-card h4 { font-family:'Space Mono'; font-size: 9px; color: var(--text-muted); letter-spacing: 1px; }

        .lit-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 40px; }
        .lit-card { 
            background: rgba(191, 161, 129, 0.05); padding: 25px; border-radius: 8px; 
            border: 1px solid rgba(191, 161, 129, 0.15); transition: background 0.3s;
        }
        .lit-card:hover { background: rgba(191, 161, 129, 0.08); }
        .lit-card h3 { color: var(--accent); font-size: 11px; font-family: 'Space Mono'; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
        .lit-card p { font-size: 0.9rem; margin-bottom: 0; color: var(--text-muted); text-align: left; line-height: 1.5; }

        .internal-link { 
            display: inline-block; margin-top: 15px; color: var(--accent); 
            font-size: 0.9rem; text-decoration: none; border-bottom: 1px dashed var(--accent); 
            transition: all 0.3s ease; cursor: pointer; 
        }
        .internal-link:hover { color: #fff; border-bottom-style: solid; }

        .cta-button { 
            display: inline-block; margin-top: 50px; padding: 18px 40px; 
            border: 1px solid var(--accent); color: var(--accent); 
            text-transform: uppercase; font-family: 'Space Mono'; 
            font-size: 13px; letter-spacing: 2px; text-decoration: none; 
            transition: all 0.3s; background: rgba(0,0,0,0.3); cursor: pointer;
        }
        .cta-button:hover { background: var(--accent); color: #000; box-shadow: 0 0 20px rgba(191, 161, 129, 0.4); }

        .section-indicator {
            position: absolute; bottom: 30px; right: 30px;
            font-family: 'Space Mono'; font-size: 3rem; 
            color: rgba(255, 255, 255, 0.03); pointer-events: none;
        }

        /* PROJETS */
        .projets-title { position: absolute; top: 60px; left: 60px; font-family: 'Space Mono', monospace; font-size: 28px; font-weight: 700; color: #fff; text-transform: uppercase; letter-spacing: 2px; pointer-events: none; }
        .projets-grid { position: absolute; top: 55%; left: 50%; transform: translate(-50%, -50%); width: 1100px; max-width: 90%; display: grid; grid-template-columns: repeat(3, 1fr); grid-template-rows: repeat(2, 1fr); gap: 30px; }
        .project-card { position: relative; padding: 25px; cursor: pointer; display: flex; flex-direction: column; width: 100%; height: 220px; animation: levitate 4s ease-in-out infinite; pointer-events: auto; text-decoration: none; color: inherit; transition: transform 0.3s, background 0.3s, border-color 0.3s; }
        @keyframes levitate { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-5px); } }
        .project-card:hover { border-color: rgba(191, 161, 129, 0.5); background: rgba(255, 255, 255, 0.08); animation-play-state: paused; transform: translateY(-5px) scale(1.02); }
        .project-card h3 { font-family: 'Space Mono', monospace; font-size: 11px; color: #BFA181; margin-bottom: 8px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px; }
        .project-card p { font-size: 10px; line-height: 1.5; color: rgba(255, 255, 255, 0.5); flex: 1; }
        .project-tags { display: flex; flex-wrap: wrap; gap: 4px; margin-top: 10px; }
        .tag { font-family: 'Space Mono', monospace; font-size: 7px; color: rgba(255, 255, 255, 0.4); background: rgba(255, 255, 255, 0.05); padding: 3px 6px; text-transform: uppercase; }

        /* OVERLAY PROJET */
        #project-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            z-index: 6000;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: opacity 0.4s ease;
        }
        #project-overlay.visible { opacity: 1; pointer-events: auto; }
        
        .overlay-content {
            width: 80%; max-width: 900px; max-height: 85vh;
            background: rgba(15, 15, 20, 0.95);
            border: 1px solid var(--accent);
            padding: 50px; border-radius: 4px;
            overflow-y: auto; position: relative;
            transform: translateY(30px); transition: transform 0.5s cubic-bezier(0.19, 1, 0.22, 1);
            scrollbar-width: thin; scrollbar-color: var(--accent) rgba(0,0,0,0.3);
        }
        #project-overlay.visible .overlay-content { transform: translateY(0); }
        
        .overlay-close {
            position: absolute; top: 30px; right: 30px;
            font-family: 'Space Mono'; font-size: 12px; color: rgba(255,255,255,0.5);
            cursor: pointer; transition: color 0.3s; text-transform: uppercase;
            border: 1px solid rgba(255,255,255,0.2); padding: 8px 15px;
        }
        .overlay-close:hover { color: var(--accent); border-color: var(--accent); }

        .overlay-header h2 {
            font-family: 'Playfair Display', serif; font-size: 3rem; color: var(--accent);
            margin-bottom: 20px; line-height: 1.1;
        }
        .overlay-tags { display: flex; gap: 10px; margin-bottom: 40px; }
        .overlay-tag {
            font-family: 'Space Mono'; font-size: 9px; color: #000;
            background: var(--accent); padding: 5px 10px; text-transform: uppercase; font-weight: 700;
        }
        .overlay-body { font-family: 'Inter', sans-serif; font-size: 1.05rem; line-height: 1.8; color: var(--text-light); }
        .overlay-body h3 {
            font-family: 'Space Mono'; color: var(--accent); font-size: 1.1rem;
            margin: 40px 0 15px 0; text-transform: uppercase; letter-spacing: 1px;
            border-bottom: 1px solid rgba(191,161,129,0.2); padding-bottom: 10px; display: inline-block;
        }
        .overlay-body p { margin-bottom: 20px; text-align: justify; }
        
        .overlay-btn {
            display: inline-block; margin-top: 30px; margin-right: 15px; padding: 15px 35px;
            background: transparent; border: 1px solid var(--accent);
            color: var(--accent); font-family: 'Space Mono'; font-size: 11px;
            text-transform: uppercase; letter-spacing: 2px; text-decoration: none;
            transition: all 0.3s; cursor: pointer;
        }
        .overlay-btn:hover { background: var(--accent); color: #000; }

        /* NOUVEAU : CONTAINER VIDÉO RESPONSIVE (YOUTUBE) */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* Ratio 16:9 */
            height: 0;
            overflow: hidden;
            margin: 30px 0;
            border: 1px solid rgba(191, 161, 129, 0.2);
            background: #000;
            border-radius: 4px;
        }
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }

        /* COMPETENCES */
        .competences-title { position: absolute; top: 85px; left: 60px; font-family: 'Space Mono', monospace; font-size: 28px; font-weight: 700; color: #fff; text-transform: uppercase; letter-spacing: 2px; pointer-events: none; }
        .competences-bento { position: absolute; top: 130px; left: 60px; right: 60px; bottom: 30px; display: grid; grid-template-columns: repeat(10, 1fr); grid-template-rows: repeat(6, minmax(0, 1fr)); gap: 8px; pointer-events: auto; overflow: hidden; }
        .skill-block { padding: 10px; display: flex; flex-direction: column; justify-content: center; }
        .skill-block:hover { border-color: rgba(191, 161, 129, 0.4); }
        .skill-block h3 { font-family: 'Space Mono', monospace; font-size: 9px; color: #BFA181; margin-bottom: 6px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; }
        .skill-item { margin-bottom: 4px; } .skill-name { font-family: 'Space Mono', monospace; font-size: 8px; color: rgba(255, 255, 255, 0.7); margin-bottom: 2px; }
        .skill-bar { height: 3px; background: rgba(255, 255, 255, 0.1); overflow: hidden; border-radius: 2px; }
        .skill-progress { height: 100%; background: linear-gradient(90deg, #BFA181, rgba(191, 161, 129, 0.5)); transition: width 1.5s ease; width: 0; }
        .section.active .skill-progress { width: var(--skill-level); }
        .accent-block { justify-content: center; align-items: center; text-align: center; }
        .accent-block .accent-text { font-family: 'Space Mono', monospace; font-weight: 700; color: #BFA181; }
        .accent-block .accent-label { font-family: 'Space Mono', monospace; font-size: 7px; color: rgba(255, 255, 255, 0.5); text-transform: uppercase; letter-spacing: 1px; margin-top: 4px; }
        .accent-block-highlight { background: linear-gradient(135deg, rgba(191, 161, 129, 0.2), rgba(191, 161, 129, 0.05)) !important; border-color: rgba(191, 161, 129, 0.4) !important; }
        .logo-block { display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; gap: 4px; }
        .logo-icon { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.15); border-radius: 8px; display: flex; align-items: center; justify-content: center; padding: 6px; width: 40px; height: 40px; font-size: 14px; }
        .logo-icon img { width: 100%; height: 100%; object-fit: contain; }
        .logo-name { font-family: 'Space Mono', monospace; color: rgba(255, 255, 255, 0.6); text-transform: uppercase; font-size: 8px; margin-top: 2px;}
        .logo-bar { width: 60%; height: 3px; background: rgba(255, 255, 255, 0.1); border-radius: 2px; overflow: hidden; margin-top: 4px; }
        .logo-progress { height: 100%; background: #BFA181; transition: width 1.5s ease; width: 0; }
        .section.active .logo-progress { width: var(--logo-level); }

        /* MAKING OF */
        .makingof-container {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); 
            width: 80%; max-width: 1000px; padding: 60px 40px; text-align: left; pointer-events: auto; 
            max-height: 80vh; overflow-y: auto; 
            scrollbar-width: thin; scrollbar-color: var(--accent) rgba(0,0,0,0.3);
        }
        .makingof-container::-webkit-scrollbar { width: 6px; }
        .makingof-container::-webkit-scrollbar-track { background: rgba(0,0,0,0.3); }
        .makingof-container::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 3px; }

        .makingof-container h2 { font-family: 'Playfair Display', serif; font-size: 42px; color: var(--accent); margin-bottom: 40px; text-align: center; }
        .makingof-container h3 { font-family: 'Space Mono', monospace; color: var(--accent); font-size: 18px; margin-top: 40px; margin-bottom: 20px; text-transform: uppercase; border-bottom: 1px solid rgba(191, 161, 129, 0.3); padding-bottom: 10px; }
        .makingof-container h4 { font-family: 'Space Mono', monospace; color: #fff; font-size: 14px; margin-top: 30px; margin-bottom: 15px; }
        .makingof-container p { font-family: 'Inter', sans-serif; font-size: 15px; line-height: 1.7; color: var(--text-light); margin-bottom: 15px; text-align: justify; }
        .makingof-container ul { padding-left: 20px; margin-bottom: 20px; }
        .makingof-container li { margin-bottom: 10px; line-height: 1.6; color: var(--text-muted); font-size: 15px; }
        .makingof-container strong { color: #fff; font-weight: 600; }
        
        .mo-placeholder { width: 100%; height: 60px; background: rgba(255, 255, 255, 0.03); border: 1px dashed var(--accent); border-radius: 8px; display: flex; align-items: center; justify-content: center; margin: 20px 0; font-family: 'Space Mono', monospace; color: rgba(255, 255, 255, 0.4); font-size: 10px; }

        @media (max-width: 1024px) {
            .projets-grid { grid-template-columns: repeat(2, 1fr); grid-template-rows: auto; top: 55%; height: 70%; overflow-y: auto; display: block; }
            .project-card { margin-bottom: 20px; }
            
            /* MODIFICATION COMPETENCES : SCROLL HORIZONTAL */
            .competences-bento {
                /* On réutilise la grille "Desktop" (10 cols / 6 rows) mais on force une largeur min */
                display: grid;
                grid-template-columns: repeat(10, minmax(110px, 1fr)); /* Chaque col fait au moins 110px */
                grid-template-rows: repeat(6, minmax(0, 1fr));
                
                /* Positionnement adapté mobile */
                top: 130px; bottom: 30px; left: 20px; right: 20px;
                
                /* Activation Scroll Horizontal */
                overflow-x: auto;
                overflow-y: hidden;
                gap: 8px;
                
                /* Smooth scroll sur mobile */
                -webkit-overflow-scrolling: touch;
                padding-bottom: 5px; /* Espace pour la barre de scroll */
            }

            /* Style de la barre de scroll horizontale */
            .competences-bento::-webkit-scrollbar { height: 4px; }
            .competences-bento::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
            .competences-bento::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 2px; }
        }

        @media (max-width: 900px) {
            .text-block { padding: 40px 30px; }
            .lit-grid { grid-template-columns: 1fr; }
            #header { min-width: 95%; padding: 15px 20px; gap: 20px; display: flex; }
            .nav-group { gap: 15px; width: auto; }
            .overlay-content { width: 95%; padding: 30px; }
            .overlay-header h2 { font-size: 2rem; }
        }
        @media (max-width: 768px) {
            #header { gap: 10px; padding: 10px 15px; width: 95%; top: 15px; }
            .nav-item { font-size: 9px; }
            #header-center-btn { width: 40px; height: 40px; }
            .projets-title { top: 80px; }
            .projets-grid { grid-template-columns: 1fr; top: 60%; height: 65%;}
            .text-block { padding: 30px 20px; }
            .italy-card { width: 70px; height: 100px; }
            
            /* Ajustement Compétences petit écran */
            .competences-bento {
                grid-template-columns: repeat(10, minmax(90px, 1fr)); /* Un peu plus petit sur mobile */
                left: 15px; right: 15px; bottom: 40px;
            }
            
            .makingof-container h2 { font-size: 28px; }
        }
    </style>
</head>
<body>
    <div id="canvas-container"></div>

    <!-- SCROLL HINT (NEW) -->
    <div class="scroll-hint" id="scroll-hint">
        <div class="scroll-mouse">
            <div class="scroll-wheel"></div>
        </div>
        <span>SCROLL</span>
    </div>

    <!-- OVERLAY PROJET (Modal) -->
    <div id="project-overlay">
        <div class="overlay-content">
            <button class="overlay-close">Fermer [X]</button>
            <div class="overlay-header">
                <div class="overlay-tags" id="modal-tags"></div>
                <h2 id="modal-title">Titre du Projet</h2>
            </div>
            <div class="overlay-body" id="modal-body">
                <!-- Contenu injecté via JS -->
            </div>
            <div id="modal-footer" style="text-align:center;"></div>
        </div>
    </div>

    <div id="splash-screen">
        <div class="splash-content">
            <h1 class="splash-title-big">PORTFOLIO</h1>
            <div class="splash-subtitle">Design • Code • Édition</div>
        </div>
        <button class="splash-btn" id="splash-btn">Entrer</button>
    </div>

    <nav id="header">
        <div class="nav-group left">
            <span class="nav-item active" data-section="0">Accueil</span>
            <span class="nav-item" data-section="1">À propos</span>
        </div>
        
        <div id="header-center-container">
             <div id="header-center-btn" data-section="2">
                <img src="https://ekladata.com/XYBb6i_bYDeg8Svg2Fumyt3PadI.gif" alt="Making Of"> 
            </div>
        </div>

        <div class="nav-group right">
            <span class="nav-item" data-section="3">Projets</span>
            <span class="nav-item" data-section="4">Compétences</span>
        </div>
    </nav>

    <div id="sections-container">
        <div class="section" data-section="0">
            <span class="deco-cross" style="top: 200px; right: 200px;">+</span>
            <span class="deco-cross" style="top: 400px; left: 300px;">+</span>
            <span class="deco-cross" style="bottom: 200px; right: 300px;">+</span>
            <div class="accueil-quote">
                <blockquote>
                    <span class="quote-line line-1">
                        <span class="word-transition" id="wordSwitch">
                            <span class="word word-active">Écrire</span>
                            <span class="word word-next word-code">&lt;Coder&gt;</span>
                        </span>
                    </span>
                    <span class="quote-line line-2">EST UNE MANIÈRE DE PARLER</span>
                    <span class="quote-line line-3">SANS ÊTRE INTERROMPU.</span>
                </blockquote>
                <div class="author">— Jules Renard</div>
            </div>
            <div class="accueil-location"><span>BORDEAUX MONTAIGNE</span><span>MÉTIERS DU LIVRE</span></div>
            <a href="#" class="accueil-cta" id="cta-projects">[ PROJETS ]</a>
            <div class="section-number">01<span>Accueil</span></div>
        </div>

        <div class="section" data-section="1">
            <div class="apropos-wrapper">
                <div class="content-container">
                    
                    <!-- SECTION 1 -->
                    <div class="text-block">
                        <div class="section-header">
                            <h2>01 // Situation Initiale — Qui suis-je ?</h2>
                        </div>
                        <p>Au CDI du collège, j'ai découvert deux mondes : <strong>Percy Jackson</strong> et <strong>Scratch</strong>. L'un vivait des histoires, l'autre permettait d'en créer. Mais quand mes camarades programmaient des jeux de vaisseaux spatiaux avec collisions et scores, moi je passais mes heures à animer des évolutions Pokémon. Le résultat visuel m'importait plus que la mécanique. Ce n'était pas le système qui me fascinait, c'était le mouvement, la transformation à l'écran, le processus de création.</p>
                        <p>Au lycée, Python en cours de maths a tout cassé. Des équations que je ne comprenais déjà pas, traduites dans un langage qui me restait opaque. J'en ai tiré une conclusion simple et fausse : le code, c'était ça, des mathématiques inaccessibles. Pas pour moi. Cette conviction m'a suivi pendant des années.</p>
                        <p>Aujourd'hui je suis en 2e année de Métiers du Livre à Bordeaux Montaigne. Un parcours qui peut sembler éloigné du numérique, mais c'est justement ici, dans un cours de développement web, que tout a basculé. Le code n'était finalement pas qu'affaire d'équations : il était régi par une logique que je pouvais comprendre. Il pouvait être visuel, organique, vivant.</p>
                    </div>

                    <!-- SECTION 2 -->
                    <div class="text-block">
                        <div class="section-header">
                            <h2>02 // Élément Déclencheur — Le premier site</h2>
                        </div>
                        <p>Il y a un an, j'ai créé mon premier site web lors d'un cours d'informatique. Le sujet : l'Italie. Trois sections en cards – Nourriture, Monuments, Villes – structurées en HTML et stylisées en CSS. Les bases les plus basiques de la basitude.</p>
                        <div class="italy-cards">
                            <div class="italy-card" style="--italy-color: #ff4757"><h4>FOOD</h4></div>
                            <div class="italy-card" style="--italy-color: #ffffff"><h4>ART</h4></div>
                            <div class="italy-card" style="--italy-color: #2ed573"><h4>CITY</h4></div>
                        </div>
                        <p>Mais j'ai aimé le faire. Pas seulement le résultat, dont l'UI est sommaire, mais le processus lui-même : structurer l'information, choisir les couleurs, voir mes modifications s'afficher en direct. J'y ai passé plus de temps que les autres. Pas par obligation, mais parce que quelque chose dans cette façon de créer me plaisait vraiment. J'ai eu la meilleure note de ma promo pour ce projet.</p>
                    </div>

                    <!-- SECTION 3 -->
                    <div class="text-block">
                        <div class="section-header">
                            <h2>03 // Péripétie — L'exploration</h2>
                        </div>
                        <p>Après cette première expérience, j'ai commencé à voir les sites non plus comme de simples et jolies interfaces mais comme la résultante d'un processus de création mûrement réfléchi. J'ai donc décidé d'approfondir ces connaissances en en apprenant plus sur ce domaine si présent dont moi, simple moldu, ne connaissais rien.</p>
                        <p>D'abord <strong>Figma</strong>, pour sortir de la page statique et réfléchir en termes d'interface. Comment disposer les éléments pour que l'œil comprenne où aller ? Où placer un bouton, un menu, un titre ? Quels composants réutiliser, quels états prévoir ? Figma m'a appris qu'avant même une ligne de code, on peut déjà raconter quelque chose avec des blocs, des espacements et des couleurs.</p>
                        <p>En parallèle, mes cours de culture numérique — ceux que j'attendais le plus dans la semaine — m'ont ouvert une autre porte : comprendre d'où vient tout ça. J'ai commencé à lire sur les pionniers de l'informatique et du web, de Pascal à Ampère en passant par Turing, d'Ada Lovelace à Blackwell.</p>
                        
                        <h3>Les projets de groupe</h3>
                        
                        <p>D'abord il y a eu une <strong>vidéo de promotion de livre</strong> pour le festival Les Escales du Livre. Une vraie première fois en tournage et en montage : écrire un script, découper en plans, gérer le cadrage, le son, le rythme, le lien entre texte et image.</p>
                        <div style="text-align:center;"><a href="#" class="internal-link" data-target="3">Pour en savoir plus, direction la section Projet !</a></div>
                        
                        <p style="margin-top:30px;">Ensuite je peux mentionner la <strong>frise chronologique</strong> réalisée sur Figma. Cette SAE demandait de condenser plusieurs siècles de musique, de littérature française et d'histoire de l'art dans une seule ligne visuelle cohérente.</p>
                        <div style="text-align:center;"><a href="#" class="internal-link" data-target="3">Pour en savoir plus, direction la section Projet !</a></div>

                        <p style="margin-top:30px;">Enfin, le projet de groupe le plus récent fut <strong>Les Éditions Hermès</strong>, création d'une maison d'édition fictive. Pour ce projet de groupe, j'ai dû tirer un site web crédible. Ce fut une belle initiation à la logique professionnelle.</p>
                        <div style="text-align:center;"><a href="#" class="internal-link" data-target="3">Pour en savoir plus, direction la section Projet !</a></div>
                    </div>

                    <!-- SECTION 4 -->
                    <div class="text-block">
                        <div class="section-header">
                            <h2>04 // L'Approche Littéraire — Un atout</h2>
                        </div>
                        <p>Les Métiers du Multimédia et de l'Internet ont un fort taux de profil orienté vers les domaines scientifiques et technologiques. Je viens d'un parcours littéraire et éditorial. Loin d'être un handicap, c'est ce qui structure aujourd'hui ma manière d'aborder le numérique.</p>
                        <div class="lit-grid">
                            <div class="lit-card"><h3>Structurer l'information</h3><p>Hiérarchiser des contenus, construire un sommaire, penser un parcours de lecture. Cette rigueur éditoriale est la base de tout bon projet numérique.</p></div>
                            <div class="lit-card"><h3>Analyser les enjeux</h3><p>Ne jamais regarder un objet culturel uniquement par sa surface. Qui décide ? Pour qui ? Avec quelles contraintes ? Un site n'est jamais neutre.</p></div>
                            <div class="lit-card"><h3>Communiquer clairement</h3><p>Si ce n'est pas clair, ça ne fonctionne pas. Une interface, comme un texte, est une forme de conversation.</p></div>
                            <div class="lit-card"><h3>Penser l'usage</h3><p>Partir des besoins des autres, organiser les données, choisir une forme visuelle qui facilite la décision.</p></div>
                        </div>
                    </div>

                    <!-- SECTION 5 -->
                    <div class="text-block">
                        <div class="section-header">
                            <h2>05 // Situation Finale — Et maintenant ?</h2>
                        </div>
                        <p>La situation finale n'existe pas encore. Ce portfolio marque une étape : un état des lieux honnête de ce que j'ai exploré jusqu'ici, de mes intuitions comme de mes limites actuelles.</p>
                        <p>Quand est venu le moment de concevoir mon portfolio, les maîtres mots étaient l'ambition et l'originalité. Je ne voulais pas de quelque chose de classique, de trop propre mais quelque chose qui me ressemble, dont je pourrais être réellement fier.</p>
                        
                        <p style="margin-top:20px;">Je peux concevoir, expérimenter, ajuster, mais je sens bien qu'il me manque encore les bases techniques solides pour être pleinement autonome. C'est précisément cette marche que je veux franchir. MMI représente pour moi la suite logique de ce parcours.</p>
                        <p>Le livre m'a appris à organiser le sens; le numérique m'a donné envie d'organiser le monde. MMI n'est pas pour moi une bifurcation, mais un élargissement : passer du texte aux interfaces, du récit aux expériences, de l'objet fini aux objets vivants.</p>
                        
                        <p><strong>J'ai commencé en suivant Percy Jackson, maintenant je veux rejoindre Scratch.</strong></p>

                        <p style="margin-top: 40px; text-align: center; color: var(--accent); font-family:'Playfair Display', serif; font-style:italic; font-weight: bold;">Créativement,<br>Un passionné.</p>

                        <div style="text-align:center;">
                            <a href="#" class="cta-button internal-link" data-target="2">Découvrir le Making Of</a>
                        </div>
                    </div>

                </div>
            </div>
            <div class="section-indicator">02<span>À propos</span></div>
        </div>

        <div class="section" data-section="2">
            <span class="deco-cross" style="top: 10%; left: 10%;">+</span>
            <span class="deco-cross" style="bottom: 10%; right: 10%;">+</span>
            
            <div class="makingof-container glass-panel">
                <h2>Making OF - Portfolio</h2>

                <h3>Partie 1: Le Processus de Création</h3>
                
                <h4>Définition des objectifs</h4>
                <p>Avant de me lancer, j'ai défini mes objectifs. Pas vaguement, vraiment pour comprendre pourquoi, pour qui, comment.</p>
                <ul>
                    <li><strong>Pourquoi :</strong> Je voulais quelque chose qui montre ma démarche, ma façon de penser. Quelque chose où on pourra se dire "ok là il a réfléchi".</li>
                    <li><strong>Pour qui :</strong> Pour moi d'abord j'avais envie d'apprendre. Et pour les recruteurs MMI pour leur prouver que je suis capable de structurer un projet ambitieux, que je peux me débrouiller avec les outils sans m'en faire esclave.</li>
                    <li><strong>Comment :</strong> Honnêtement, je n'avais pas les compétences pour faire seul ce que j'imaginais. Mais au lieu de rabaisser ma vision, j'ai décidé que l'IA serait uniquement un outil, pas une excuse. Un moyen de pallier mes lacunes techniques tout en apprenant vraiment en chemin.</li>
                </ul>

                <h4>Il était un commencement</h4>
                <p>Pour sortir ce portfolio de terre tel le colosse de Rhodes, trois options s'offraient à moi : faire quelque chose de simple en HTML/CSS comme pour mon premier site, utiliser un CMS du type WordPress pour avoir un template déjà correct mais sans ambition, ou viser plus haut en mêlant ma créativité avec des outils d'assistance technique.</p>
                <p>J'ai choisi la troisième option, non pas pour éviter l'effort, mais au contraire pour explorer un terrain où je pouvais apprendre en avançant et transformer ma motivation théorique en ambition empirique.</p>

                <h4>The timeless art of vibe coding - Rick Rubin</h4>
                <p>C'est en explorant les Artefacts publics de Claude IA que j'ai découvert <em>The Way of Code</em>, créé en collaboration entre Anthropic et Rick Rubin. Ce site a vraiment été une première grande inspiration pour moi. Chaque page du site est une exploration artistique différente très inspirante. Mais bien qu'elle ne soit pas particulièrement la plus artistiquement poussée, c'est la page 26, avec ses particules qui bougent comme des vagues - ou comme un livre qui s'ouvre, qui m'a vraiment marqué. En voyant ça, j'ai été inspiré - j'arrivais à me projeter dans ce que je voulais faire.</p>
                <p>En l'inspectant et en comprenant comment il était construit, j'ai découvert <strong>Three.js</strong> une bibliothèque JavaScript pour faire de la 3D sur le web. Jusqu'alors, j'ignorais qu'il était même possible de faire une telle chose.</p>

                <h3>Première projection</h3>
                
                <h4>Le choix du trou noir</h4>
                <p>Pourquoi un trou noir ? Depuis le début, l'idée était de faire un site animé. Le trou noir me semblait être un bon choix: c'est une forme connue, impressionnante, et au final c'est juste une spirale qui tourne. Le ratio entre la difficulté et le résultat visuel était intéressant.</p>
                
                <h4>La vision 3D: le trou noir central</h4>
                <p>Après avoir pris connaissance de la possibilité d'intégrer du 3D via Three.js et WebGL, j'ai imaginé quelque chose de plus ambitieux: un vrai trou noir en 3D. Une sphère noire entourée d'une spirale, en particules pour donner un effet spécial. Le site commencerait par un splash une vue du trou noir en 3D de 45 degrés d'en haut. Un effet qui se veut être impressionnant dès le début. L'inspiration me venait des jeux vidéo gacha que je connais, car ils ont tous des splashs immersifs (une porte, un train dans l'espace). Je voulais faire quelque chose de similaire.</p>
                
                <h4>L'animation d'entrée</h4>
                <p>Sur le splash, un bouton "entrer" déclencherait l'animation. La caméra se déplacerait en ligne droite vers le centre de la sphère. Au début, j'avais prévu que ça fonctionne au scroll avancer en scrollant, reculer en scrollant dans l'autre sens. Mais j'ai réalisé que le concept d'un splash c'est d'être au début uniquement. J'ai opté pour un bouton qui lance directement l'animation. L'idée: le site se trouve au centre du trou noir tu plonges à l'intérieur.</p>
                
                <h4>Après le splash</h4>
                <p>Une fois à l'intérieur, le site devient classique: une page web avec scroll vertical pour voir les sections. J'ai gardé cette version un moment parce que j'avançais plus vite sur la forme que sur le fond.</p>

                <h3>Awwwards ou la genèse du renouveau</h3>
                <p>C'est à ce moment-là que j'ai découvert <strong>Awwwards</strong>, un site qui regroupe les sites webs les plus impressionnants d'UI & UX designers professionnels. C'est rapidement devenu mon meilleur site découvert en 2025. En explorant, deux sites en particulier m'ont vraiment marqué et ont changé ma vision du projet.</p>

                <h4>Mantis: l'équilibre parfait</h4>
                <p>Mantis m'a montré comment faire un site totalement original tout en restant équilibré. Les couleurs sont sobres, les textes sont courts mais impactant comme des slogans. Mais ce qui m'a surtout frappé, c'est leur utilisation du 3D : des genres de statues où le scroll va de pair avec le mouvement caméra. C'est superbe et ça respire l'équilibre.</p>
                <p>Ça m'a vraiment influencé. J'ai réalisé qu'on pouvait intégrer la 3D de manière bien pensée sans que ça fasse "trop". Que ce ne soit pas juste un splash au début, mais que la 3D fasse partie du site entier. Mantis.works a prouvé qu'on pouvait être impressionnant tout en gardant de la retenue.</p>
                
                <h4>Heidelberg Materials: le 3D total</h4>
                <p>Ensuite, j'ai découvert le site de Heidelberg Materials. Là, c'était complètement différent. Le site entier n'était que du 3D. Ce n'était pas des éléments 3D placés dans un environnement 2D comme chez Mantis - c'était du pur 3D avec des mouvements de caméra qui te font naviguer d'une section à l'autre. Et tout était fait avec des particules - partout.</p>
                <p>Ça a été révélateur pour moi. J'ai pensé: "Pourquoi faire un site 2D après le splash alors que je peux faire le site entier en 3D avec des mouvements de caméra pour naviguer ?" Ça m'a montré qu'il n'y avait pas que le 2D avec intégration du 3D qui marche il y a le 3D complet, et c'est merveilleux.</p>
                <p>Ces deux sites ont complètement redéfini mon ambition pour ce projet.</p>

                <h3>Le retour</h3>
                <p>Après Awwwards, mes ambitions ont décuplé. Pourquoi faire un banal site en 2D quand je pouvais créer quelque chose de vraiment impressionnant, dont je serais réellement fier ? Et là, j'ai eu l'eureka: le portfolio n'était pas juste un site qui regroupe mes projets. Le portfolio lui-même était le projet. Le plus ambitieux que j'aie entrepris. En littérature, on appelle ça un récit enchâssé.</p>
                <p>J'ai compris qu'une véritable vitrine, c'est pas seulement une belle interface c'est le site entier qui doit respirer créativité, originalité et storytelling. Un portfolio doit jouer sur ces trois éléments, pas juste les énumérer.</p>

                <h3>Deuxième projection</h3>
                
                <h4>Le pivot majeur</h4>
                <p>J'ai revu entièrement mon plan. Le trou noir ne serait plus le splash d'introduction - c'était devenu l'objet central du site. Au lieu de plonger dedans et de scroller verticalement, le site tournerait autour du trou noir avec des mouvements de caméra. C'était un changement radical.</p>
                <p>J'ai gardé deux éléments de la première vision: l'idée d'entrer dans le trou noir et les formes en particules. Je les ai réaffectés à la section à propos elle se trouverait à l'intérieur du trou noir.</p>

                <h3>Partie 2: Explication du Site Actuel</h3>
                
                <h4>Le Splash: l'introduction scénarisée</h4>
                <p>L'idée du splash c'était de transformer une simple intro en une véritable mise en scène narrative. Ça commence par une citation générale: "un site doit être simple, élégant et conceptuel" (les adjectifs peuvent varier). C'est classique, attendu.</p>
                <p>Mais juste en dessous, il y a ma réponse: "but I have an authority issue" une petite provocation qui se veut être casseur de code. C'est là qu'on sent que ce ne sera pas un portfolio lambda. Ensuite, en cliquant sur "entrer", l'animation se lance. On découvre alors un système de rail de caméra en trois phases pour guider le mouvement: d'abord on monte pour voir la spirale 2D, puis on recule et on tourne pour révéler que le trou noir est en 3D, enfin un flyby qui referme tout et nous place devant le site. C'est une progression narrative: de l'attente à la surprise à l'arrivée.</p>

                <h4>La scène 3D: le trou noir</h4>
                <ul>
                    <li><strong>Le fond: une skybox cosmique.</strong> Le fond est une grande sphère avec une texture réelle de la Voie lactée (image de l'ESO). L'utilisateur se trouve à l'intérieur de cette sphère, pas devant ça crée une véritable immersion dans l'espace plutôt qu'une simple toile de fond.</li>
                    <li><strong>La sphère noire centrale.</strong> Le trou noir lui-même est une sphère Three.js avec une résolution assez élevée (32 à 64 segments selon la GPU) pour préserver les détails des particules autour. C'est simple en apparence, mais c'est la base sur laquelle repose toute l'optique.</li>
                    <li><strong>La spirale: le cœur technique.</strong> La spirale n'est pas une simple texture appliquée - c'est un shader (code exécuté directement sur la carte graphique) qui génère la spirale en temps réel. Le système utilise du bruit de Perlin (une fonction mathématique qui crée des motifs organiques naturels) pour générer les formes, puis les transforme pour créer cet effet de spirale tournante. L'astuce c'est que la vitesse de rotation n'est pas uniforme: le centre tourne plus vite que les bords, créant cet effet d'essorage caractéristique, comme si la matière était aspirée vers le centre.</li>
                </ul>
                <p>Avant, la spirale était faite en particules, mais c'était moins fluide. Avec Gemini 3.0, en passant à un système de shader, la spirale est devenue vraiment élégante et performante.</p>

                <h4>Section Accueil</h4>
                <p>La citation de Jules Renard c'est une phrase qui traîne depuis longtemps dans la tête comme une morale de fable qu'on ne peut pas oublier, peu importe pourquoi. Elle semblait parfaite pour cette section: sobre, directe, qui résonne avec le projet.</p>
                <p>Au-dessus de cette citation, le mot bascule entre "Écrire" et "&lt;Coder&gt;" une manière de symboliser cette double approche, ce mouvement entre le littéraire et le numérique. C'est littéralement ce portfolio en miniature.</p>
                <p>La citation est positionnée pile au centre du trou noir. C'est une mise en relation consciente: le trou noir met en évidence la citation, et la citation met en évidence le trou noir. Comme une couverture de livre bien pensée, pas besoin que le titre soit écrit en gros sur fond noir uni comme les éditions Grasset pour ne pas les citer. Il suffit qu'il soit visible, captivant, que le décor amène naturellement vers lui. L'inspiration vient directement de Mantis, qui maîtrise parfaitement cet équilibre entre texte et élément visuel.</p>
                <p>L'idée c'était de faire en sorte que rien de superflu ne vienne éclipser ce contraste. Le trou noir devient un élément de premier plan, pas juste de la décoration. C'est une utilisation consciente de la profondeur et de la hiérarchie visuelle. Une idée dont je suis assez fier.</p>

                <h4>Section À propos</h4>
                <p><strong>La complication: une section qui parle de soi.</strong> La section À propos a été la plus compliquée à mettre en place. D'abord le contenu : étant moi-même le genre de personne à avoir du mal à parler de soi, il a fallu plusieurs réécritures avant de trouver la bonne structure. Au final j'ai trouvé la solution dans mon côté littéraire. L'idée était d'utiliser un schéma narratif littéraire classique Situation initiale, Élément perturbateur, Péripéties, Dénouement, Situation finale comme on le ferait pour une histoire. Cela rendait l'exercice plus cohérent avec le parcours littéraire, tout en transformant l'autobiographie en véritable narration.</p>
                <p><strong>La complication: intégrer le 3D au texte.</strong> La deuxième complication était la forme. L'idée était que cette section se déploierait à l'intérieur du trou noir une transition visuelle claire avec le reste du site. Mais on voulait aussi intégrer des systèmes de particules 3D en parallèle du texte. Le défi c'était l'équilibre: comment placer du contenu textuel lourd (plusieurs blocs) à côté d'animations 3D sans que l'un éclipse l'autre ? Les systèmes de particules inspirés de The Way Of Code utilisent des attracteurs mathématiques formes mathématiques qui utilisent la loi du chaos qui créent des formes organiques continuellement transformées. Mais la taille du texte rendait difficile de bien les intégrer.</p>
                <p>La solution a été de créer un système adaptatif: chaque bloc textuel a à côté un système de particules unique qui se transforme entre deux formes différentes, au rythme du scroll. Le scroll lui-même devient un paramètre d'animation. De plus aimant particulièrement la mécanique des easter eggs, il y a dans ce texte une référence cachée, sauriez-vous la retrouver ?</p>

                <h4>Section Projets</h4>
                <p>La section Projets présente les projets sous forme de grille (3 colonnes, 2 lignes). L'idée principale, c'est que le fond de chaque carte est un teaser visuel du projet lui-même. Plutôt que de lire une description, on voit directement ce qu'on trouvera à l'intérieur. C'est montrer plutôt que raconter.</p>

                <h4>Section Compétences</h4>
                <p>La section Compétences présente les skills sous forme de Bento Grid un layout asymétrique où les blocs ont des tailles variables. L'inspiration vient des keynotes Apple, où cette grille permet de montrer plusieurs produits avec des informations à différentes échelles tout en gardant une cohérence visuelle. C'est la même logique ici: avoir une vision rapide et condensée des compétences (comme un CV), mais de manière esthétique. Les blocs de différentes tailles permettent de hiérarchiser les compétences : les principales prennent plus de place, les outils complémentaires sont plus compacts.</p>
                <p>Il y a également la présence d'un autre easter egg cette fois beaucoup plus visible.</p>

                <h3>Conclusion</h3>
                <p>Ce projet a demandé beaucoup de travail explorations, itérations, apprentissages. Ce n'était pas juste quelques prompts et c'est fini. J'ai expérimenté beaucoup, j'ai cherché beaucoup, j'ai échoué beaucoup mais surtout j'ai appris beaucoup.</p>
                <p>L'IA a été un outil pour matérialiser une vision, pas l'inverse. Les vraies décisions les découvertes (Three.js, Awwards, les attracteurs mathématiques), les pivots conscients, les choix de design c'est moi qui les ai prises. L'IA m'a permis de concrétiser ma pensée là où je ne savais pas techniquement comment la mettre en forme, mais la vision venait de moi.</p>
                <p>Tout le monde dit qu'ils sont motivés et curieux, moi j'ai décidé de le montrer concrètement. Ce portfolio c'est une motivation concrète, pas celle des lettres de motivation. C'est 30 heures d'expérimentation, c'est des pivots conscients, c'est des découvertes qu'on suit. C'est la preuve que quand une idée m'intéresse, je creuse vraiment. MMI c'est l'opportunité d'amplifier ça: apprendre vraiment le développement web, le design d'interfaces, la narration interactive.</p>
                <p>À terme, je veux mener des projets complets de la conception à la réalisation - où chaque élément (design, code, contenu) raconte la même histoire. Où un site d'édition n'est pas juste une vitrine, mais une vraie expérience qui reflète l'identité de la maison. Il y a tant de maisons d'édition et de librairies qui méritent un site internet qui les met en valeur qui raconte leur histoire, pas juste qui liste leurs produits.</p>
                
                <p style="margin-top: 40px; text-align: center; color: var(--accent); font-weight: bold; font-family:'Playfair Display', serif; font-style:italic;">Créativement vôtre,<br>Un passionné.</p>
            </div>
            
            <div class="section-number">03<span>Making Of</span></div>
        </div>

        <div class="section" data-section="3">
            <span class="deco-cross" style="top: 130px; right: 100px;">+</span>
            <div class="projets-title">Projets</div>
            <div class="projets-grid">
                <!-- PROJECT 1 -->
                <div class="project-card glass-panel" data-project="portfolio">
                    <h3>Portfolio Interactif</h3><p>Animations Three.js et navigation 3D.</p>
                    <div class="project-tags"><span class="tag">Three.js</span><span class="tag">JavaScript</span></div>
                </div>
                <!-- PROJECT 2 -->
                <div class="project-card glass-panel" data-project="hermes">
                    <h3>Éditions Hermès</h3><p>Site vitrine pour une maison d'édition.</p>
                    <div class="project-tags"><span class="tag">HTML</span><span class="tag">CSS</span></div>
                </div>
                <!-- PROJECT 3 -->
                <div class="project-card glass-panel" data-project="escale">
                    <h3>Stop Motion Origami</h3><p>Vidéo d'animation avec personnages en origami.</p>
                    <div class="project-tags"><span class="tag">Stop Motion</span><span class="tag">Montage</span></div>
                </div>
                <!-- PROJECT 4 -->
                <div class="project-card glass-panel" data-project="frise">
                    <h3>Frise Chronologique</h3><p>Frise interactive sur l'histoire du web.</p>
                    <div class="project-tags"><span class="tag">JavaScript</span><span class="tag">Timeline</span></div>
                </div>
                <!-- PROJECT 5 -->
                <div class="project-card glass-panel" data-project="traiteur">
                    <h3>Site Traiteur</h3><p>Site vitrine avec galerie et contact.</p>
                    <div class="project-tags"><span class="tag">HTML</span><span class="tag">CSS</span></div>
                </div>
                <!-- PROJECT 6 -->
                <div class="project-card glass-panel" data-project="italie">
                    <h3>Site Italie</h3><p>Premier site web créé en cours.</p>
                    <div class="project-tags"><span class="tag">HTML</span><span class="tag">CSS</span></div>
                </div>
            </div>
            <div class="section-number">04<span>Projets</span></div>
        </div>

        <div class="section" data-section="4">
            <span class="deco-cross" style="top: 180px; right: 200px;">+</span>
            <div class="competences-title">Compétences</div>
            <div class="competences-bento">
                <div class="skill-block glass-panel" style="grid-column: 1 / 4; grid-row: 1 / 3;"><h3>Développement Web</h3><div class="skill-item"><div class="skill-name">HTML / CSS</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 75%"></div></div></div><div class="skill-item"><div class="skill-name">JavaScript</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 50%"></div></div></div><div class="skill-item"><div class="skill-name">Three.js</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 40%"></div></div></div></div>
                <div class="skill-block logo-block glass-panel" style="grid-column: 4 / 5; grid-row: 1 / 2;"><div class="logo-icon"><img src="Images/VSCode.png" alt="VS"></div><div class="logo-name">VS Code</div><div class="logo-bar"><div class="logo-progress" style="--logo-level: 60%"></div></div></div>
                <div class="skill-block logo-block glass-panel" style="grid-column: 5 / 6; grid-row: 1 / 2;"><div class="logo-icon"><img src="Images/Claude.png" alt="Cl"></div><div class="logo-name">Claude</div><div class="logo-bar"><div class="logo-progress" style="--logo-level: 70%"></div></div></div>
                <div class="skill-block logo-block glass-panel" style="grid-column: 6 / 7; grid-row: 1 / 2;"><div class="logo-icon"><img src="Images/Gemini.png" alt="Ge"></div><div class="logo-name">Gemini</div><div class="logo-bar"><div class="logo-progress" style="--logo-level: 60%"></div></div></div>
                <div class="skill-block glass-panel" style="grid-column: 7 / 10; grid-row: 1 / 3;"><h3>Design</h3><div class="skill-item"><div class="skill-name">UI/UX</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 55%"></div></div></div><div class="skill-item"><div class="skill-name">Typo</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 70%"></div></div></div><div class="skill-item"><div class="skill-name">Mise en page</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 75%"></div></div></div></div>
                <div class="skill-block logo-block glass-panel" style="grid-column: 10 / 11; grid-row: 1 / 2;"><div class="logo-icon"><img src="Images/Figma.png" alt="Fi"></div><div class="logo-name">Figma</div><div class="logo-bar"><div class="logo-progress" style="--logo-level: 60%"></div></div></div>
                <div class="skill-block logo-block glass-panel" style="grid-column: 4 / 5; grid-row: 2 / 3;"><div class="logo-icon"><img src="Images/Github.png" alt="Git"></div><div class="logo-name">GitHub</div><div class="logo-bar"><div class="logo-progress" style="--logo-level: 40%"></div></div></div>
                <div class="skill-block glass-panel" style="grid-column: 5 / 6; grid-row: 2 / 3;"><h3 style="font-size: 10px; margin-bottom: 5px;">IA</h3><div class="skill-item"><div class="skill-name" style="font-size: 8px;">Vibe Coding</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 65%"></div></div></div></div>
                <div class="skill-block accent-block accent-block-highlight glass-panel" style="grid-column: 6 / 7; grid-row: 2 / 3;"><div class="accent-text" style="font-size: 16px;">☕</div><div class="accent-label" style="font-size: 8px;">418</div></div>
                <div class="skill-block logo-block glass-panel" style="grid-column: 10 / 11; grid-row: 2 / 3;"><div class="logo-icon"><img src="Images/Canva.png" alt="Ca"></div><div class="logo-name">Canva</div><div class="logo-bar"><div class="logo-progress" style="--logo-level: 80%"></div></div></div>
                <div class="skill-block glass-panel" style="grid-column: 1 / 3; grid-row: 3 / 5;"><h3>Vidéo</h3><div class="skill-item"><div class="skill-name">Montage</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 50%"></div></div></div><div class="skill-item"><div class="skill-name">StopMotion</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 40%"></div></div></div></div>
                <div class="skill-block logo-block glass-panel" style="grid-column: 3 / 4; grid-row: 3 / 4;"><div class="logo-icon"><img src="Images/Capcut.png" alt="Cp"></div><div class="logo-name">CapCut</div><div class="logo-bar"><div class="logo-progress" style="--logo-level: 50%"></div></div></div>
                <div class="skill-block accent-block accent-block-highlight glass-panel" style="grid-column: 4 / 6; grid-row: 3 / 5;"><div class="accent-text" style="font-size: 20px;">MLP</div><div class="accent-label">Métiers Livre</div></div>
                <div class="skill-block glass-panel" style="grid-column: 6 / 9; grid-row: 3 / 5;"><h3>Édition</h3><div class="skill-item"><div class="skill-name">Rédaction</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 85%"></div></div></div><div class="skill-item"><div class="skill-name">Structure</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 80%"></div></div></div></div>
                <div class="skill-block accent-block accent-block-highlight glass-panel" style="grid-column: 9 / 10; grid-row: 3 / 4;"><div class="accent-text" style="font-size: 14px;">🐍</div><div class="accent-label">Py</div></div>
                <div class="skill-block logo-block glass-panel" style="grid-column: 10 / 11; grid-row: 3 / 4;"><div class="logo-icon"><img src="Images/Obsidian.png" alt="Ob"></div><div class="logo-name">Obsidian</div><div class="logo-bar"><div class="logo-progress" style="--logo-level: 80%"></div></div></div>
                <div class="skill-block logo-block glass-panel" style="grid-column: 3 / 4; grid-row: 4 / 5;"><div class="logo-icon"><img src="Images/Blender.png" alt="Bl"></div><div class="logo-name">Blender</div><div class="logo-bar"><div class="logo-progress" style="--logo-level: 20%"></div></div></div>
                <div class="skill-block accent-block accent-block-highlight glass-panel" style="grid-column: 9 / 10; grid-row: 4 / 5;"><div class="accent-text" style="font-size: 12px;">2024</div><div class="accent-label">Web</div></div>
                <div class="skill-block accent-block glass-panel" style="grid-column: 10 / 11; grid-row: 4 / 5;"><div class="accent-text" style="font-size: 8px;">Culture</div><div class="accent-label">Num</div></div>
                <div class="skill-block logo-block glass-panel" style="grid-column: 1 / 2; grid-row: 5 / 6;"><div class="logo-icon"><img src="Images/Scratch.png" alt="Sc"></div><div class="logo-name">Scratch</div><div class="logo-bar"><div class="logo-progress" style="--logo-level: 80%"></div></div></div>
                <div class="skill-block glass-panel" style="grid-column: 2 / 6; grid-row: 5 / 6;"><h3>Soft Skills</h3><div class="skill-item"><div class="skill-name">Curiosité / Auto-learning</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 90%"></div></div></div></div>
                <div class="skill-block accent-block accent-block-highlight glass-panel" style="grid-column: 6 / 8; grid-row: 5 / 6;"><div class="accent-text" style="font-size: 20px;">MMI</div><div class="accent-label">Objectif</div></div>
                <div class="skill-block glass-panel" style="grid-column: 8 / 10; grid-row: 5 / 6;"><h3>Langues</h3><div class="skill-item"><div class="skill-name">Anglais Tech</div><div class="skill-bar"><div class="skill-progress" style="--skill-level: 70%"></div></div></div></div>
                <div class="skill-block accent-block accent-block-highlight glass-panel" style="grid-column: 10 / 11; grid-row: 5 / 6;"><div class="accent-text" style="font-size: 16px;">🎨</div><div class="accent-label">Site</div></div>
            </div>
            <div class="section-number">05<span>Compétences</span></div>
        </div>

    </div>

    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
                "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
            }
        }
    </script>

    <script type="module">
        import * as THREE from 'three';
        
        // --- DATA PROJETS (Extrait des PDF) ---
        const projectsData = {
            "portfolio": {
                title: "Portfolio Interactif",
                tags: ["Three.js", "WebGL", "Storytelling"],
                content: `
                    <h3>Un récit en trois dimensions</h3>
                    <p>Ce portfolio n'est pas qu'une simple vitrine : c'est une exploration technique et narrative. L'objectif était de transformer une navigation web classique en une expérience immersive.</p>
                    <p>Au lieu de lister mes compétences, j'ai voulu les démontrer : la gestion de la 3D avec Three.js, l'optimisation des shaders pour l'animation du trou noir, et une structure narrative inspirée des schémas littéraires.</p>
                    <h3>Défis techniques</h3>
                    <p>Le plus grand défi a été d'équilibrer la performance et l'esthétique. Le système de particules et les effets de post-traitement (bloom) sont gourmands, il a fallu optimiser le code pour qu'il tourne correctement même sur des machines modestes.</p>
                `,
                link: null, // Déjà dessus
                linkLabel: "Vous y êtes déjà !"
            },
            "hermes": {
                title: "Éditions Hermès",
                tags: ["HTML", "CSS", "Identité Visuelle"],
                content: `
                    <h3>Présentation</h3>
                    <p>Ce projet de groupe consistait à imaginer une maison d'édition de A à Z : son identité, sa collection et le premier titre de celle-ci. De mon côté, j'ai élaboré un plan de diffusion et de distribution cohérent, puis j'ai conçu et géré le site web des Éditions Hermès, afin d'offrir une vitrine numérique fidèle à l'esprit de la maison.</p>
                    
                    <h3>Volonté Artistique</h3>
                    <p>Le site des Éditions Hermès adopte volontairement une esthétique très sobre. J'ai choisi une interface simple, presque dépouillée, en écho direct à la charte graphique minimaliste que nous avions définie. C'était une manière de montrer ma capacité à m'adapter à un univers visuel précis, sans le surcharger.</p>
                    <p>Je me suis toutefois autorisé un <em>easter egg</em> discret, comme une petite trace personnelle glissée derrière la façade, preuve que la rigueur peut cohabiter avec un clin d'œil subtil.</p>
                    
                    <h3>Conclusion</h3>
                    <p>Imaginer le site d'une maison d'édition fictive m'a donné envie de travailler, un jour, pour une maison bien réelle. En intégrant sa charte graphique au mieux, j'ai réellement pris plaisir à construire un espace lisible, cohérent et accueillant.</p>
                    <p>Cette deuxième expérience de création de site web renforce mon envie d'aller plus loin dans les principes d'UI et d'UX design, pour affiner mes choix, comprendre davantage les usages et améliorer encore mes futures créations.</p>
                `,
                link: "https://touvie.github.io/Hermes/",
                linkLabel: "Visiter le site"
            },
            "escale": {
                title: "Stop Motion - Pas prévu",
                tags: ["Stop Motion", "Origami", "Montage"],
                content: `
                    <h3>Présentation générale</h3>
                    <p>Dans le cadre d'un partenariat avec le salon littéraire <em>Les Escales du Livre</em>, situé à Bordeaux au cœur de l'écosystème Darwin, deux camarades et moi avons imaginé puis réalisé une vidéo de promotion autour de l'album <em>Pas prévu</em> d'Élo, publié à L'École des loisirs.</p>
                    <p>La cible étant de très jeunes enfants autour de quatre ans, nous avons choisi le <strong>stop motion</strong> et des personnages façonnés en <strong>origami</strong>, afin de rester proches de cet univers de simplicité, de jeu et de petites mains encore hésitantes.</p>
                    
                    <!-- EXEMPLE D'INTÉGRATION YOUTUBE -->
                    <div class="video-container">
                        <!-- Remplace l'URL ci-dessous par celle de ta vidéo (embed) -->
                        <!-- Si ton lien est https://youtu.be/XYZ123, mets src="https://www.youtube.com/embed/XYZ123" -->
                        <iframe 
                            src="https://www.youtube.com/embed/zUz145uZZLE" 
                            title="YouTube video player" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            allowfullscreen>
                        </iframe>
                    </div>

                    <h3>Ce que j'ai appris</h3>
                    <p>C'était la première fois que je me confrontais à l'écriture d'un script pensé pour un tournage. Écrire en anticipant la mise en scène, puis confronter ces idées au réel du plateau, révèle très vite des contraintes que l'on n'imagine pas au début. Cette découverte progressive, presque empirique, m'a beaucoup plu.</p>
                    <p>J'ai également appris à manipuler un logiciel de montage (CapCut sur ordinateur) et à comprendre comment une vidéo prend forme, image après image.</p>
                    
                    <h3>Conclusion</h3>
                    <p>Cette première immersion dans le domaine du multimédia, que je ne connaissais alors qu'en surface, m'a offert un point d'ancrage clair : je veux poursuivre dans cette voie. Elle confirme mon désir de me tourner vers les Métiers du Multimédia et de l'Internet, où l'image, l'histoire et l'expérimentation se rencontrent.</p>
                `,
                link: "#",
                linkLabel: "Voir la vidéo sur YouTube"
            },
            "frise": {
                title: "Frise Chronologique",
                tags: ["Figma", "UX/UI", "Prototypage"],
                content: `
                    <h3>Présentation</h3>
                    <p>Dans le cadre d'un projet réunissant la musique, la littérature et l'histoire de l'art, deux camarades et moi avons été chargés de concevoir une frise chronologique complète, sur le support de notre choix. Elle devait rassembler des dates essentielles pour chacune des trois disciplines. Nous avons choisi de la réaliser sur <strong>Figma</strong>, afin d'exploiter ses possibilités de mise en page et d'interactivité.</p>
                    
                    <h3>La frise</h3>
                    <p>Nous avons imaginé la frise comme un ensemble de trois lignes temporelles parallèles, chacune consacrée à une matière. Le prototypage entièrement réalisé sur Figma nous a permis de créer une interface claire, où l'on peut cliquer sur des boutons pour faire apparaître les périodes, les mouvements et les événements. La frise n'est donc pas une simple image statique : elle fonctionne comme une petite interface interactive.</p>
                    
                    <h3>Conclusion</h3>
                    <p>C'est avec ce projet que j'ai vraiment pris en main Figma. J'ai découvert comment construire un prototype interactif, en reliant des pages, en définissant des transitions et en rendant la navigation fluide. Cette approche m'a donné une première idée concrète de ce que peut être une interface pensée pour l'utilisateur.</p>
                `,
                // Modification ici pour supporter plusieurs boutons
                buttons: [
                    { label: "Voir le Prototype", url: "https://www.figma.com/proto/QujD1wpP5gShSFdK1rJn37/Frise-chronoogique?node-id=122-430&t=k7SPQ3ya9DfJXzZ8-0&scaling=scale-down-width&content-scaling=fixed&page-id=0%3A1&starting-point-node-id=129%3A1547" }, // Remplace par le lien proto
                    { label: "Voir les Maquettes (Design)", url: "https://www.figma.com/design/QujD1wpP5gShSFdK1rJn37/Frise-chronoogique?node-id=0-1&t=k7SPQ3ya9DfJXzZ8-1" }
                ]
            },
            "traiteur": {
                title: "Site Traiteur",
                tags: ["HTML", "CSS", "WIP"],
                content: `
                    <div style="display:flex; justify-content:center; align-items:center; height:100%; min-height:200px;">
                        <h3 style="color: var(--accent); font-family: 'Space Mono'; text-transform: uppercase;">🚧 Fonctionnalité en cours de développement</h3>
                    </div>
                `,
                link: null,
                linkLabel: null
            },
            "italie": {
                title: "Projet Italie",
                tags: ["Premier Site", "HTML", "Découverte"],
                content: `
                    <h3>Le point de départ</h3>
                    <p>Il y a un an, j'ai créé mon premier site web lors d'un cours d'informatique. Le sujet : l'Italie. Trois sections en cards – Nourriture, Monuments, Villes – structurées en HTML et stylisées en CSS. Les bases les plus basiques de la basitude.</p>
                    <h3>Une révélation</h3>
                    <p>Mais j'ai aimé le faire. Pas seulement le résultat, dont l'UI est sommaire, mais le processus lui-même : structurer l'information, choisir les couleurs, voir mes modifications s'afficher en direct. J'y ai passé plus de temps que les autres. Pas par obligation, mais parce que quelque chose dans cette façon de créer me plaisait vraiment.</p>
                `,
                link: "https://touvie.github.io/Italie",
                linkLabel: "Visiter le site"
            }
        };

        // GESTION MODAL
        const modal = document.getElementById('project-overlay');
        const modalTitle = document.getElementById('modal-title');
        const modalTags = document.getElementById('modal-tags');
        const modalBody = document.getElementById('modal-body');
        const modalFooter = document.getElementById('modal-footer');
        const closeModal = document.querySelector('.overlay-close');

        function openModal(projectId) {
            const data = projectsData[projectId];
            if (!data) return;

            modalTitle.innerText = data.title;
            modalBody.innerHTML = data.content;
            
            // Tags
            modalTags.innerHTML = '';
            data.tags.forEach(tag => {
                const span = document.createElement('span');
                span.className = 'overlay-tag';
                span.innerText = tag;
                modalTags.appendChild(span);
            });

            // Footer Button(s)
            modalFooter.innerHTML = '';
            
            if (data.buttons) {
                // Cas avec plusieurs boutons (comme la Frise)
                data.buttons.forEach(btnData => {
                    const btn = document.createElement('a');
                    btn.className = 'overlay-btn';
                    btn.href = btnData.url;
                    btn.target = "_blank";
                    btn.innerText = `[ ${btnData.label} ]`;
                    modalFooter.appendChild(btn);
                });
            } else if (data.link && data.link !== "#") {
                // Cas classique (un seul lien)
                const btn = document.createElement('a');
                btn.className = 'overlay-btn';
                btn.href = data.link;
                btn.target = "_blank";
                btn.innerText = `[ ${data.linkLabel} ]`;
                modalFooter.appendChild(btn);
            } else if (data.linkLabel) {
                // Cas sans lien actif
                const span = document.createElement('span');
                span.style.fontFamily = "'Space Mono'";
                span.style.fontSize = "10px";
                span.style.color = "rgba(255,255,255,0.5)";
                span.innerText = data.linkLabel;
                modalFooter.appendChild(span);
            }

            modal.classList.add('visible');
        }

        closeModal.addEventListener('click', () => {
            modal.classList.remove('visible');
        });

        // Fermer en cliquant en dehors
        modal.addEventListener('click', (e) => {
            if (e.target === modal) {
                modal.classList.remove('visible');
            }
        });

        // Initialisation des écouteurs sur les cartes
        function setupProjectCards() {
            document.querySelectorAll('.project-card').forEach(card => {
                card.addEventListener('click', (e) => {
                    e.preventDefault(); // Empêche le lien par défaut
                    const pid = card.dataset.project;
                    
                    // CAS SPÉCIAL: Portfolio -> Making Of (Section 2)
                    if (pid === 'portfolio') {
                        goToSection(2);
                        return; // On arrête là, pas d'ouverture de modal
                    }

                    if(pid) openModal(pid);
                });
            });
        }

        
        // GPU DETECTION
        function getGPUTier() {
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl');
            if (!gl) return 'low';
            const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
            if (!debugInfo) return 'low';
            const renderer = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL).toLowerCase();
            if (/(intel|hd graphics|mali|adreno|powervr|open source|mesa|swiftshader)/.test(renderer)) return 'low';
            return 'high';
        }

        const gpuTier = getGPUTier();
        const CONFIG = {
            pixelRatio: gpuTier === 'low' ? 1 : Math.min(window.devicePixelRatio, 2),
            particlesCount: gpuTier === 'low' ? 5000 : 20000,
            sphereSegments: gpuTier === 'low' ? 32 : 64,
            aboutSphereRadius: 4.7,
            aboutParticleSize: 0.8
        };
        
        let scene, camera, renderer, bgMesh, stars, blackHole, glowSphere, accretionDisk;
        let aboutPoints; // Nouvelle variable pour la sphère "À propos"
        
        let currentSection = -1; 
        let targetSectionIndex = -1;
        let isTransitioning = false; 
        let isMovingToSection = false;
        
        // --- VARIABLE POUR LE SCROLL ---
        let lastScrollTime = 0; 
        let scrollAccumulator = 0;
        let scrollTimeout;
        const SCROLL_THRESHOLD = 300; 
        let resistanceY = 0; // La valeur qui simule l'élastique
        
        const noiseFunctions = `vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;

        function init() {
            const container = document.getElementById('canvas-container');
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.01, 3000);
            
            // DÉPART SPLASH (Décalé pour éviter le Gimbal Lock)
            camera.position.set(0, 6, 1); 
            camera.lookAt(0,0,0);

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(CONFIG.pixelRatio);
            renderer.autoClear = false;
            container.appendChild(renderer.domElement);

            const textureLoader = new THREE.TextureLoader();
            const milkyWayUrl = 'https://cdn.eso.org/images/large/eso0932a.jpg';
            
            // FOND
            const bgGeo = new THREE.SphereGeometry(1500, CONFIG.sphereSegments, CONFIG.sphereSegments);
            bgGeo.scale(-1, 1, 1);
            const bgMat = new THREE.ShaderMaterial({
                uniforms: { u_texture: { value: textureLoader.load(milkyWayUrl) } },
                vertexShader: `varying vec2 vUv; void main() { vUv = uv; gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); }`,
                fragmentShader: `uniform sampler2D u_texture; varying vec2 vUv; void main() { vec4 texColor = texture2D(u_texture, vUv); texColor.rgb = pow(texColor.rgb, vec3(3.0)); texColor.rgb *= 1.5; gl_FragColor = vec4(texColor.rgb, 1.0); }`
            });
            bgMesh = new THREE.Mesh(bgGeo, bgMat);
            bgMesh.rotation.x = Math.PI * 0.1;
            bgMesh.rotation.z = Math.PI * 0.15;
            scene.add(bgMesh);

            // ETOILES
            const starsCount = 4000; const starsGeo = new THREE.BufferGeometry(); const starsPos = new Float32Array(starsCount * 3);
            for(let i=0; i<starsCount; i++) {
                const r = 500 + Math.random() * 800; const theta = Math.random() * Math.PI * 2; const phi = Math.acos(2 * Math.random() - 1);
                starsPos[i*3] = r * Math.sin(phi) * Math.cos(theta); starsPos[i*3+1] = r * Math.sin(phi) * Math.sin(theta); starsPos[i*3+2] = r * Math.cos(phi);
            }
            starsGeo.setAttribute('position', new THREE.BufferAttribute(starsPos, 3));
            stars = new THREE.Points(starsGeo, new THREE.PointsMaterial({ color: 0xffffff, size: 0.8, transparent: true, opacity: 0.8 }));
            scene.add(stars);

            // TROU NOIR
            const BH_RADIUS = 4.0;
            const coreGeo = new THREE.SphereGeometry(BH_RADIUS, CONFIG.sphereSegments, CONFIG.sphereSegments);
            const coreMat = new THREE.MeshBasicMaterial({ color: 0x000000, side: THREE.DoubleSide });
            blackHole = new THREE.Mesh(coreGeo, coreMat);
            scene.add(blackHole);

            // GLOW
            const glowGeo = new THREE.SphereGeometry(BH_RADIUS * 1.05, CONFIG.sphereSegments, CONFIG.sphereSegments);
            const glowMat = new THREE.ShaderMaterial({
                uniforms: { glowColor: { value: new THREE.Color(0xffaa33) }, viewVector: { value: new THREE.Vector3() }, power: { value: 3.5 }, intensity: { value: 1.4 } },
                vertexShader: `uniform vec3 viewVector; varying float vIntensity; uniform float power; void main() { vec3 vNormal = normalize(normalMatrix * normal); vec3 vNormel = normalize(normalMatrix * viewVector); vIntensity = pow(0.7 - dot(vNormal, vNormel), power); gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); }`,
                fragmentShader: `uniform vec3 glowColor; uniform float intensity; varying float vIntensity; void main() { vec3 glow = glowColor * vIntensity * intensity; gl_FragColor = vec4(glow, 1.0); }`,
                side: THREE.BackSide, blending: THREE.AdditiveBlending, transparent: true, depthWrite: false
            });
            glowSphere = new THREE.Mesh(glowGeo, glowMat);
            scene.add(glowSphere);

            // DISQUE ACCRETION
            const diskGeo = new THREE.RingGeometry(BH_RADIUS * 1.1, 60.0, 256, 1);
            const diskMat = new THREE.ShaderMaterial({
                uniforms: { u_time: { value: 0 } },
                vertexShader: `varying vec3 vPos; void main() { vPos = position; gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0); }`,
                fragmentShader: `varying vec3 vPos; uniform float u_time; ${noiseFunctions} mat2 rotate2d(float angle){ return mat2(cos(angle), -sin(angle), sin(angle), cos(angle)); } void main() { vec3 pos = vPos; float r = length(pos.xy); float twistAngle = 3.0 * log(r); float shearTime = min(u_time, 20.0); float shearSpeed = 2.0 / (r * 0.5 + 0.1); float shearOffset = shearTime * shearSpeed; float globalSpeed = 0.2; float globalOffset = u_time * globalSpeed; twistAngle -= (shearOffset + globalOffset); vec2 twistedCoords = rotate2d(twistAngle) * pos.xy; float noiseVal = snoise(vec3(twistedCoords * 0.2, u_time * 0.15)); noiseVal += 0.5 * snoise(vec3(twistedCoords * 0.6, u_time * 0.2)); noiseVal = noiseVal * 0.5 + 0.5; float arms = smoothstep(0.3, 0.7, noiseVal); vec3 colorCore = vec3(1.0, 0.95, 0.8); vec3 colorInner = vec3(1.0, 0.5, 0.05); vec3 colorOuter = vec3(0.6, 0.05, 0.0); float radialPos = (r - 4.5) / (55.0 - 4.5); vec3 baseColor = mix(colorInner, colorOuter, pow(radialPos, 0.5)); baseColor = mix(baseColor, colorCore, smoothstep(0.1, 0.0, radialPos)); float rings = sin(r * 2.0 + noiseVal * 2.0); baseColor *= (0.9 + 0.1 * rings); vec3 finalColor = baseColor * (arms * 1.5 + 0.2); float alpha = smoothstep(4.2, 5.0, r) * smoothstep(55.0, 35.0, r); alpha *= smoothstep(0.1, 0.6, noiseVal); gl_FragColor = vec4(finalColor, alpha); }`,
                transparent: true, side: THREE.DoubleSide, blending: THREE.AdditiveBlending, depthWrite: false
            });
            accretionDisk = new THREE.Mesh(diskGeo, diskMat);
            accretionDisk.rotation.x = -Math.PI / 2;
            scene.add(accretionDisk);

            // --- NOUVELLE SCÈNE À PROPOS (SPHÈRE UNIQUE) ---
            initAboutSphere();
            
            window.addEventListener('resize', onWindowResize);
            window.addEventListener('keydown', (e) => {
                if (currentSection === -1) return;
                // LOOP KEYBOARD LOGIC
                const totalSections = 5;
                if(e.key === 'ArrowRight') { 
                    goToSection((currentSection + 1) % totalSections); 
                } 
                else if(e.key === 'ArrowLeft') { 
                    goToSection((currentSection - 1 + totalSections) % totalSections); 
                }
            });

            // --- SCROLL HANDLING AVEC ACCUMULATEUR ---
            window.addEventListener('wheel', (e) => {
                if (currentSection === -1) return; // Ignore on Splash
                
                // Si une transition est déjà en cours, on ignore
                if (isTransitioning || isMovingToSection) return;
                
                // Si l'overlay projet est ouvert, on n'intercepte pas le scroll
                if (document.getElementById('project-overlay').classList.contains('visible')) return;

                const now = Date.now();
                if (now - lastScrollTime < 1500) return; // Cooldown

                clearTimeout(scrollTimeout);
                
                // --- RÉSISTANCE VISUELLE (ELASTIQUE) ---
                // On ajoute le delta à la valeur de résistance (avec un facteur pour la sensibilité)
                // Plus on scroll, plus resistanceY augmente
                resistanceY += e.deltaY * 0.05;

                // On limite la résistance visuelle pour pas que la caméra parte trop loin
                resistanceY = Math.max(Math.min(resistanceY, 150), -150);

                scrollAccumulator += e.deltaY;
                
                // Reset de l'accumulateur si l'utilisateur arrête de scroller
                scrollTimeout = setTimeout(() => {
                    scrollAccumulator = 0;
                }, 200); // Slightly longer reset window

                // Seulement si le seuil est dépassé (SEUIL PLUS HAUT = PLUS DUR À DÉCLENCHER)
                if (Math.abs(scrollAccumulator) < SCROLL_THRESHOLD) return;

                const totalSections = 5;
                const direction = scrollAccumulator > 0 ? 1 : -1;

                // --- GESTION INTELLIGENTE DU SCROLL TEXTE ---
                
                // Cas 1 : Section "À Propos" (Index 1) - Contient du texte scrollable
                if (currentSection === 1) {
                    const wrapper = document.querySelector('.apropos-wrapper');
                    const isAtBottom = wrapper.scrollTop + wrapper.clientHeight >= wrapper.scrollHeight - 50; 
                    const isAtTop = wrapper.scrollTop <= 0;

                    if (direction > 0) { // Scroll vers le bas
                        if (isAtBottom) {
                            goToSection(2); // Go to Making Of
                            lastScrollTime = now;
                            scrollAccumulator = 0;
                            resistanceY = 0; // Reset visuel
                        }
                    } else { // Scroll vers le haut
                        if (isAtTop) {
                            goToSection(0); // Go back to Accueil
                            lastScrollTime = now;
                            scrollAccumulator = 0;
                            resistanceY = 0;
                        }
                    }
                    return;
                }

                // Cas 2 : Section "Making Of" (Index 2) - Contient du texte scrollable
                if (currentSection === 2) {
                    const wrapper = document.querySelector('.makingof-container');
                    const isAtBottom = wrapper.scrollTop + wrapper.clientHeight >= wrapper.scrollHeight - 50;
                    const isAtTop = wrapper.scrollTop <= 0;
                    
                    if (direction > 0) { // Scroll vers le bas
                        if (isAtBottom) {
                            goToSection(3); // Go to Projets
                            lastScrollTime = now;
                            scrollAccumulator = 0;
                            resistanceY = 0;
                        }
                    } else { // Scroll vers le haut
                        if (isAtTop) {
                            goToSection(1); // Go back to About
                            lastScrollTime = now;
                            scrollAccumulator = 0;
                            resistanceY = 0;
                        }
                    }
                    return;
                }

                // Cas 3 : Toutes les autres sections
                if (direction > 0) {
                    goToSection((currentSection + 1) % totalSections);
                    lastScrollTime = now;
                    scrollAccumulator = 0;
                    resistanceY = 0;
                } else {
                    goToSection((currentSection - 1 + totalSections) % totalSections);
                    lastScrollTime = now;
                    scrollAccumulator = 0;
                    resistanceY = 0;
                }

            }, { passive: false }); 

            document.getElementById('splash-btn').addEventListener('click', startIntroSequence);
            document.getElementById('header-center-btn').addEventListener('click', () => { goToSection(2); });

            // Écouteur Scroll pour la Parallaxe À Propos
            const aboutWrapper = document.querySelector('.apropos-wrapper');
            if(aboutWrapper) {
                aboutWrapper.addEventListener('scroll', () => {
                    const scrollY = aboutWrapper.scrollTop;
                    const docHeight = aboutWrapper.scrollHeight - aboutWrapper.clientHeight;
                    const scrollPercent = scrollY / docHeight;
                    if(aboutPoints) {
                        aboutPoints.position.y = scrollPercent * 2.0; 
                    }
                });
            }

            setupNavigation();
            setupProjectCards(); 
            animate();
        }

        // Initialisation de la Sphère "À Propos"
        function initAboutSphere() {
            const geometry = new THREE.BufferGeometry();
            const positions = [];
            
            for (let i = 0; i < 5000; i++) {
                const r = CONFIG.aboutSphereRadius;
                const theta = Math.random() * Math.PI * 2;
                const phi = Math.acos(2 * Math.random() - 1);

                const x = r * Math.sin(phi) * Math.cos(theta);
                const y = r * Math.sin(phi) * Math.sin(theta);
                const z = r * Math.cos(phi);
                
                positions.push(x, y, z);
            }

            geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));

            const material = new THREE.ShaderMaterial({
                uniforms: {
                    uColor: { value: new THREE.Color(0xBFA181) },
                    uTime: { value: 0 }
                },
                vertexShader: `
                    uniform float uTime;
                    varying float vAlpha;
                    void main() {
                        vec3 pos = position;
                        vec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);
                        gl_Position = projectionMatrix * mvPosition;
                        
                        float sparkle = sin(uTime * 2.0 + pos.x);
                        gl_PointSize = (${CONFIG.aboutParticleSize.toFixed(1)} + sparkle * 0.2) * (30.0 / -mvPosition.z);
                        
                        vAlpha = 0.5 + 0.5 * sin(pos.z + uTime);
                    }
                `,
                fragmentShader: `
                    uniform vec3 uColor;
                    varying float vAlpha;
                    void main() {
                        if (length(gl_PointCoord - vec2(0.5, 0.5)) > 0.5) discard;
                        gl_FragColor = vec4(uColor, 0.6); 
                    }
                `,
                transparent: true,
                blending: THREE.AdditiveBlending,
                depthWrite: false
            });

            aboutPoints = new THREE.Points(geometry, material);
            aboutPoints.visible = false; // Caché par défaut
            scene.add(aboutPoints);
        }

        function startIntroSequence() {
            const btn = document.getElementById('splash-btn');
            if(btn) btn.classList.add('fade-out');
            setTimeout(() => { 
                const content = document.querySelector('.splash-content');
                if(content) content.classList.add('fade-out'); 
            }, 500);
            
            setTimeout(() => {
                const splash = document.getElementById('splash-screen');
                if(splash) splash.style.display = 'none'; 
                isTransitioning = true;
                
                // PHASED MOVEMENT
                const pos1 = new THREE.Vector3(0, 6, 1);
                const pos2 = new THREE.Vector3(0, 120, 1); 
                const pos3 = new THREE.Vector3(40, 5, 40);
                const pos4 = new THREE.Vector3(0, 2, 10);
                if(window.innerWidth < 768) pos4.set(0, 2, 14);

                const startPos = camera.position.clone();
                const startTime = performance.now();
                const d1 = 3000;
                const d2 = 3000;
                const d3 = 3000;

                function introLoop(now) {
                    const elapsed = now - startTime;
                    
                    if (elapsed < d1) {
                        const t = elapsed / d1;
                        const ease = t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;
                        camera.position.lerpVectors(pos1, pos2, ease);
                        camera.lookAt(0,0,0);
                        requestAnimationFrame(introLoop);
                    } else if (elapsed < d1 + d2) {
                        const t = (elapsed - d1) / d2;
                        const ease = t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t; 
                        camera.position.lerpVectors(pos2, pos3, ease);
                        camera.lookAt(0,0,0);
                        requestAnimationFrame(introLoop);
                    } else if (elapsed < d1 + d2 + d3) {
                        const t = (elapsed - d1 - d2) / d3;
                        const ease = 1 - Math.pow(1 - t, 3); 
                        camera.position.lerpVectors(pos3, pos4, ease);
                        camera.lookAt(0,0,0);
                        requestAnimationFrame(introLoop);
                    } else {
                        currentSection = 0;
                        targetSectionIndex = 0;
                        targetPosition.copy(pos4);
                        camera.position.copy(pos4);
                        
                        document.getElementById('header').classList.add('visible');
                        document.getElementById('scroll-hint').classList.add('visible'); // Show hint on start
                        
                        const activeSec = document.querySelector('.section[data-section="0"]');
                        if (activeSec) {
                            activeSec.classList.add('active');
                            activeSec.style.opacity = '1';
                            activeSec.style.visibility = 'visible';
                        }
                        
                        isTransitioning = false;
                    }
                }
                requestAnimationFrame(introLoop);

            }, 2500); 
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }

        // NEW ORDER: 0:Accueil, 1:About, 2:MakingOf, 3:Projets, 4:Competences
        const sectionCoords = [
            new THREE.Vector3(0, 2, 10),     // 0: Accueil
            new THREE.Vector3(0, 0, 8),      // 1: À propos
            new THREE.Vector3(40, 20, 40),   // 2: Making Of (Moved here)
            new THREE.Vector3(0, 60, 5),     // 3: Projets (Moved here)
            new THREE.Vector3(0, 30, 40)     // 4: Compétences (Moved here)
        ];
        
        let targetPosition = new THREE.Vector3(0, 6, 1); // Start Splash Exact

        function setupNavigation() {
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', () => goToSection(parseInt(item.dataset.section)));
            });
            document.getElementById('cta-projects').addEventListener('click', (e) => {
                e.preventDefault(); goToSection(3); // Projets is now index 3
            });
            
            // GESTION DES LIENS INTERNES (Texte -> Projets / Making Of)
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('internal-link')) {
                    e.preventDefault();
                    const target = parseInt(e.target.dataset.target);
                    goToSection(target);
                }
            });
        }

        function goToSection(index) {
            if(index === currentSection && !isTransitioning) return;
            
            // 1. Hide Old Section Immediately
            document.querySelectorAll('.section').forEach(s => {
                s.classList.remove('active');
                s.style.opacity = '0';
                s.style.visibility = 'hidden';
            });
            
            // HIDE SCROLL HINT WHEN MOVING FROM HOME
            // ONLY SHOW ON HOME (0)
            const hint = document.getElementById('scroll-hint');
            if(index === 0) {
                 setTimeout(() => hint.classList.add('visible'), 1000);
            } else {
                 hint.classList.remove('visible');
            }

            currentSection = index;
            targetSectionIndex = index;
            
            // DRAPEAU : On bouge vers une section, donc on attend avant d'afficher
            isMovingToSection = true;
            
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            
            // Update active nav based on new index
            // 0: Accueil, 1: Apropos, 2: MakingOf(Btn), 3: Projets, 4: Compétences
            if(index === 0 || index === 1) {
                // Left group
                document.querySelector(`.nav-item[data-section="${index}"]`)?.classList.add('active');
            } else if (index === 3 || index === 4) {
                // Right group
                document.querySelector(`.nav-item[data-section="${index}"]`)?.classList.add('active');
            }
            // Index 2 (Making Of) is handled by center button which doesn't have 'active' class style usually

            if (index === 0 && window.innerWidth < 768) {
                targetPosition.set(0, 2, 14); 
            } else {
                targetPosition.copy(sectionCoords[index]);
            }
            
            // RESET SCROLL
            if(index === 1) {
                const wrapper = document.querySelector('.apropos-wrapper');
                if(wrapper) wrapper.scrollTop = 0;
            }
            if(index === 2) {
                const wrapper = document.querySelector('.makingof-container');
                if(wrapper) wrapper.scrollTop = 0;
            }
        }

        const clock = new THREE.Clock();

        function animate() {
            requestAnimationFrame(animate);
            const time = clock.getElapsedTime();

            if(accretionDisk) accretionDisk.material.uniforms.u_time.value = time;
            if(glowSphere) glowSphere.material.uniforms.viewVector.value.subVectors(camera.position, glowSphere.position);
            
            // --- GESTION DE L'EFFET ELASTIQUE (RESISTANCE) ---
            // On fait "décroître" la résistance (amortissement)
            resistanceY *= 0.9; 
            // Si c'est tout petit, on remet à 0
            if(Math.abs(resistanceY) < 0.01) resistanceY = 0;

            if (currentSection !== -1 && !isTransitioning) { 
                // On calcule la position "Cible + Résistance"
                // On ajoute le vecteur de résistance (sur Y pour faire monter/descendre la caméra)
                // Note : On utilise .clone() pour ne pas modifier la vraie cible
                let finalTarget = targetPosition.clone();
                
                // On applique la résistance (le sens dépend de ton goût, ici -resistanceY pour que scroll down -> cam monte un peu puis revient)
                finalTarget.y -= resistanceY * 0.05; 

                // Zéro Latence Mouvement vers la cible modifiée
                camera.position.lerp(finalTarget, 0.04);
                camera.lookAt(0, 0, 0); 
                
                // GESTION D'APPARITION INTELLIGENTE (Fix Latence)
                if(isMovingToSection) {
                    const dist = camera.position.distanceTo(targetPosition);
                    if(dist < 2.0) { 
                        isMovingToSection = false; // Arrivé !
                        const activeSec = document.querySelector(`.section[data-section="${currentSection}"]`);
                        if(activeSec) {
                            activeSec.classList.add('active');
                            activeSec.style.opacity = '1';
                            activeSec.style.visibility = 'visible';
                            
                            // SHOW SCROLL HINT IF NOT IN OVERLAY
                            if(!document.getElementById('project-overlay').classList.contains('visible') && currentSection === 0) {
                                document.getElementById('scroll-hint').classList.add('visible');
                            }
                        }
                    }
                }
            }

            let targetFOV = 60;
            // Pas de changement de FOV spécifique pour la nouvelle section à propos, on reste stable
            camera.fov = THREE.MathUtils.lerp(camera.fov, targetFOV, 0.04);
            camera.updateProjectionMatrix();

            const distToCenter = camera.position.length();
            
            // LOGIQUE D'AFFICHAGE (SWITCH SCÈNES)
            // Si on est dans la section "À Propos" (Index 1) et stabilisé
            const isAboutSection = (currentSection === 1 && !isTransitioning && !isMovingToSection);
            
            // On définit une zone spécifique pour l'activation du mode "About"
            // La caméra est à z=8 pour About.
            const isAboutZone = distToCenter < 12.0; 
            
            // Pour le "trou noir" visuel (le trou noir géométrique), on le cache si on est trop près (ex < 6) 
            // OU si on est dans la section About (car on la remplace par la sphère de particules)
            
            // Gestion Visibilité Contenu HTML À Propos
            const aproposWrapper = document.querySelector('.apropos-wrapper');
            
            if (isAboutSection) {
                // FORCE L'AFFICHAGE POUR LA SECTION ABOUT
                if(aproposWrapper) aproposWrapper.classList.add('visible');
                
                if(aboutPoints) {
                    aboutPoints.visible = true;
                    aboutPoints.material.uniforms.uTime.value = time;
                    aboutPoints.rotation.y += 0.0007; 
                }
                
                // On cache tout le reste
                bgMesh.visible = false;
                stars.visible = false;
                accretionDisk.visible = false;
                glowSphere.visible = false;
                blackHole.visible = false;
                
            } else {
                // COMPORTEMENT CLASSIQUE (ACCUEIL, PROJETS, ETC.)
                if(aproposWrapper) aproposWrapper.classList.remove('visible');
                if(aboutPoints) aboutPoints.visible = false;
                
                // On affiche le décor spatial normal
                // Sauf si on est "dans" le trou noir géométrique (ce qui n'arrive plus vraiment avec les nouvelles coords, mais on garde la sécu)
                const tooClose = distToCenter < 4.0; 
                
                bgMesh.visible = !tooClose;
                stars.visible = !tooClose;
                accretionDisk.visible = !tooClose;
                glowSphere.visible = !tooClose;
                blackHole.visible = true;
            }

            renderer.setScissorTest(false);
            renderer.clear();
            renderer.setViewport(0, 0, window.innerWidth, window.innerHeight);
            
            // On rend toujours la scène principale car now tout est dedans (y compris aboutPoints)
            renderer.render(scene, camera);
        }
        
        function initWordSwitch() {
            const ws = document.getElementById('wordSwitch');
            if(!ws) return;
            const w = ws.querySelectorAll('.word'); let ai=0;
            w.forEach(wd => {
                const txt=wd.textContent; const isC=wd.classList.contains('word-code');
                wd.innerHTML=txt.split('').map((c,k)=>`<span class="letter ${isC?(['<','>'].includes(c)?'letter-bracket':'letter-text'):''}" style="transition-delay:${k*25}ms">${c===' '?'&nbsp;':c}</span>`).join('');
            });
            function sw() {
                const ni=(ai+1)%w.length; const cw=w[ai]; const nw=w[ni];
                cw.querySelectorAll('.letter').forEach(l=>l.classList.add('out'));
                nw.querySelectorAll('.letter').forEach(l=>l.classList.add('in'));
                setTimeout(()=>{
                    cw.classList.remove('word-active'); cw.classList.add('word-next');
                    nw.classList.remove('word-next'); nw.classList.add('word-active');
                    cw.querySelectorAll('.letter').forEach(l=>l.classList.remove('out'));
                    nw.querySelectorAll('.letter').forEach(l=>l.classList.remove('in'));
                    ai=ni;
                }, cw.textContent.length*25+400);
            }
            setTimeout(()=>{sw(); setInterval(sw,4000);},2000);
        }

        init();
        initWordSwitch();

    </script>
</body>
</html>
